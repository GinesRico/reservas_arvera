<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Reservas Arvera</title>
<style>
  body { margin:0; font-family: sans-serif; }
  #buttons {
    position: fixed;
    top: 10px;
    left: 10px;
    z-index: 1000;
  }
  #buttons button {
    padding: 10px 20px;
    margin-right: 5px;
    background-color: #1a23a1;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
  }
  #calendar-container {
    width: 100%;
    height: 100vh;
    overflow: hidden;
  }
  #my-cal-inline-citas, #google-calendar {
    width: 100%;
    height: 100%;
    display: none;
    border: none;
  }
</style>
</head>
<body>

<div id="buttons">
  <button id="refresh-btn">Inicio</button>
  <button id="google-btn">Google Calendar</button>
</div>

<div id="calendar-container">
  <!-- Cal.com -->
  <div id="my-cal-inline-citas"></div>

  <!-- Google Calendar -->
  <iframe id="google-calendar"
    src="https://calendar.google.com/calendar/embed?src=arvera1982%40gmail.com&ctz=Europe%2FMadrid&mode=WEEK"
    style="border:0;"
    frameborder="0"
    scrolling="no">
  </iframe>
</div>

<script>
  const calDiv = document.getElementById("my-cal-inline-citas");
  const googleFrame = document.getElementById("google-calendar");
  const refreshBtn = document.getElementById("refresh-btn");
  const googleBtn = document.getElementById("google-btn");

  // Mostrar Cal.com por defecto
  calDiv.style.display = "block";

  // Botón Inicio: recarga la página
  refreshBtn.addEventListener("click", () => {
    location.reload();
  });

  // Botón Google Calendar: mostrar iframe
  googleBtn.addEventListener("click", () => {
    calDiv.style.display = "none";
    googleFrame.style.display = "block";
  });

  // Inicializar Cal.com
  const script = document.createElement("script");
  script.src = "https://app.cal.com/embed/embed.js";
  script.onload = () => {
    Cal("init", "citas", {origin:"https://app.cal.com"});
    Cal.ns.citas("inline", {
      elementOrSelector:"#my-cal-inline-citas",
      config: {"layout":"column_view","theme":"light"},
      calLink: "arvera/citas",
    });
    Cal.ns.citas("ui", {
      "theme":"light",
      "cssVarsPerTheme":{
        "light":{"cal-brand":"#1a23a1"},
        "dark":{"cal-brand":"#fafafa"}
      },
      "hideEventTypeDetails":false,
      "layout":"column_view"
    });
  };
  document.head.appendChild(script);
</script>

</body>
</html>
