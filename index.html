<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Reservas Arvera</title>
<style>
  body {
    font-family: sans-serif;
    margin: 0;
  }
  #my-cal-inline-citas {
    width: 100%;
    height: 100vh; /* Ocupa toda la ventana */
    border: none;
    overflow: hidden;
  }
  #refresh-btn {
    position: fixed;
    top: 10px;
    left: 10px;
    z-index: 1000;
    padding: 10px 20px;
    background-color: #1a23a1;
    color: white;
    border: none;
    cursor: pointer;
    font-size: 16px;
    border-radius: 5px;
  }
  /* Ocultar elementos extra del calendario si aparecen */
  .cal-header, .cal-nav, .cal-event-type-list { 
    display: none !important; 
  }
</style>
</head>
<body>

<button id="refresh-btn">Inicio</button>
<div id="my-cal-inline-citas"></div>

<script>
  // Cargar script de Cal.com dinámicamente
  const script = document.createElement("script");
  script.src = "https://app.cal.com/embed/embed.js";
  script.onload = () => {
    // Inicializar Cal.com
    Cal("init", "citas", { origin: "https://app.cal.com" });

    Cal.ns.citas("inline", {
      elementOrSelector: "#my-cal-inline-citas",
      config: { layout: "column_view", theme: "light" },
      calLink: "arvera/citas"
    });

    Cal.ns.citas("ui", {
      theme: "light",
      cssVarsPerTheme: {
        light: { "cal-brand": "#1a23a1" },
        dark: { "cal-brand": "#fafafa" }
      },
      hideEventTypeDetails: true,
      layout: "column_view"
    });

    // Botón de reinicio en la esquina
    document.getElementById("refresh-btn").addEventListener("click", () => {
      Cal.ns.citas("inline", {
        elementOrSelector: "#my-cal-inline-citas",
        config: { layout: "column_view", theme: "light" },
        calLink: "arvera/citas"
      });
    });
  };
  document.head.appendChild(script);
</script>

</body>
</html>
